---
title: 'Linear-Algebra-Review'
date: 2023-01-22
permalink: /posts/2023/01/linear-algebra-review/
tags:
  - course
use_math: true

---
重开一个，真的快忘光了，我哭死。

感谢图灵 2001 吴一航学长的讲义，好多都是从上面搞的...

二次型写不动了，就写到相似好了。

> 设 $V(\mathbf{F})$ 是一个 $n$ 维线性空间，$\sigma \in L(V,\ V)$，证明：

> $1.$ 在 $\mathbf{F}[x]$ 中有一个次数不高于 $n^2$ 的多项式 $p(x)$ ，使得 $p(\sigma)=0$；

> $2.$ $\sigma$ 可逆$\iff$有一常数项不为 $0$ 的多项式 $p(x)$ ，使得 $p(\sigma)=0$。

第一问很有趣。其实我第一反应是列方程，但是有更简单的做法。显然 **$\sigma$ 是一个 $n^2$ 维的线性空间**。所以 $n^2+1$ 维肯定可以构造出一个 $0$ 映射。

第二问很有趣。

我们先考虑充分性。我们怎么证明它可逆？构造一个就可以。不妨设 

$$p(\sigma)=aI+\sum_{i=1}^ma_i\sigma^i=0$$

凑出 $I$ 即可：

$$I=\sum_{i=1}^m(-\frac{a_i}a)\sigma^i$$

$$I=\sigma\cdot(\sum_{i=0}^{m-1}(-\frac{a_i}a)\sigma^i)$$

构造成功。右边就是要的逆映射。

必要性就简单了。我们如果可以证明 $p(\sigma)$ 的首项不是 $0$ 就好了。反证法。如果首项是 $0$，由最小值原理我们取一个次数最小的多项式满足 $p(\sigma)=0$，也就是：

$$p(\sigma)=\sum_{i=1}^ma_i\sigma^i=\sigma(\sum_{i=0}^{m-1}a_{i+1}\sigma^i)=0$$

有 $m\ge 1$。套上逆映射：

$$\sigma^{-1}\cdot p(\sigma)=\sum_{i=0}^{m-1}a_{i+1}\sigma^i=0$$

和最小性矛盾。

### 矩阵、线性变换和基：

> 矩阵的定义：

$B_1$ 的基的像（行向量）  $=B_2$ 的基（行向量）乘上矩阵。

>  线性变换对应的矩阵：
	
$B_1$ 的基的像在 $B_2$ 的基下的坐标按照列的顺序写。

为了区分，我们称这此为原矩阵。

>  由 $B_1$ 下的坐标如何得到变换后在 $B_2$ 下的坐标？

原矩阵乘上 $B_1$ 坐标（列向量）。

>  **命题**：线性映射单射的充要条件是表示矩阵列满秩，满射的充要条件是行满秩。

>  基变换矩阵的定义：

形式记号。

![](https://cdn.luogu.com.cn/upload/image_hosting/4f0rfwii.png)

性质：肯定可逆，证明显然。

如何求？矩阵求逆。但是我觉得显然不如解方程来的快好吗？

>  同一个线性空间不同的基，坐标如何变换？

基变换矩阵的逆乘上 $B_1$ 坐标（列向量）。

**显然不如解方程来的快好吗？**

>  同一个线性变换在不同的基下的变换矩阵？

$B_1$ 到 $B_2$ 的变换矩阵的逆 乘 $B_1$ 下原矩阵 再乘$B_1$ 到 $B_2$ 变换矩阵。


------------

> 矩阵可交换的技巧：$∀t, AB = BA \Leftrightarrow (A - tE)B = B(A - tE)$.

> 设 $A$ 为 $n$ 阶矩阵且 $E-A$ 可逆，证明：$A$ 与 $(E-A)^{-1}$ 相乘可交换。

使用这个技巧。构造 $A-E$：那么显然 $A-E$ 和 $(E-A)^{-1}$ 是可交换的。那么：

$$A(E-A)^{-1}-(E-A)^{-1}=(A-E)(E-A)^{-1}=(E-A)^{-1}(A-E)=(E-A)^{-1}A-(E-A)^{-1}$$

得证。

------------

> 构造反例：$AB=O\not\Rightarrow BA=O$。

这个非常 easy，随便写一下就有。
比如 $A=\begin{pmatrix}
 1 & 1
\end{pmatrix},B=\begin{pmatrix}
 1\\ -1
\end{pmatrix}$

如果是方阵也不一定对。比如 $A=\begin{pmatrix}
 1 & 1\\1& 1
\end{pmatrix},B=\begin{pmatrix}
 1 & 1 \\-1 &-1
\end{pmatrix}$

------------

> 构造反例：$AB+BA=O\not\Rightarrow AB=O$。

这其实是之前[习题课](https://www.luogu.com.cn/blog/sanaQWQ/xian-xing-dai-shuo-xi-ti-ke-112-post)我咕掉的问题...

随便写一个初等矩阵 $A=\begin{pmatrix}1 & 0 \\ 0 & -1\end{pmatrix},B=\begin{pmatrix}a & b \\ c & d\end{pmatrix}$。

要求 $\begin{pmatrix}a & b \\ -c & -d\end{pmatrix}+\begin{pmatrix}a & -b \\ c & -d\end{pmatrix}=\begin{pmatrix}0 & 0 \\ 0 & 0\end{pmatrix}$。$a=0,b=1,c=1,d=0$。直接结束了。也就是：$A=\begin{pmatrix}1 & 0 \\ 0 & -1\end{pmatrix},B=\begin{pmatrix}0 & 1 \\ 1 & 0\end{pmatrix}$。

~~发现就是左乘行变换，右乘列变换。~~


------------

> 构造反例：对称矩阵的乘积不一定对称。

用一个初等矩阵 $A=\begin{pmatrix}1 & 0 \\ 0 & -1\end{pmatrix}$ 左乘一个全部元素非 $0$ 的对称矩阵就可以了。

------------

> 矩阵方程 $AX=B$。其中 $A$ 不一定可逆，而且 $X$ 也不一定是列向量。

那么怎么搞呢？考虑分块矩阵，$A[X_1,X_2,...,X_k]=[\beta_1,\beta_2,...,\beta_k]$。

那么把 $(A,B)$ 拿来做高斯消元，把左边消成**阶梯型矩阵**。这样就可以一次性解出 $k$ 个线性方程，拼起来构造矩阵即可。实例：

![](https://cdn.luogu.com.cn/upload/image_hosting/tixqj0pa.png)

------------

> 设 $x,y$ 为 $n$ 维列向量，且 $x^Ty=2$。证明 $E+xy^T$ 可逆。

设这个矩阵是 $A$， 两边平方：

$$E+2xy^T+xy^Txy^T=A^2$$

我们知道 $y^Tx=2$，所以由结合律可得：

$$E+2xy^T+x2y^T=E+4xy^T=E+4(A-E)=A^2$$

$$4A-A^2=A(4E-A)=3E$$

逆矩阵就是 $\frac{4E-A}3$。


------------

> 矩阵的 $L-U$ 分解：

使用非交换的初等行变换，把它消成下三角矩阵。这种做法要求左上角的子块都可逆。证明在书上的 149 页，使用分块矩阵的初等变换归纳证明。

------------

> 已知 $A^TA=E,|A|=-1,$ 求 $|A+E|$。

考虑对答案进行变形：$|A+E|=|A+A^TA|=|(A+A^TA)^T|=|A^T+A^TA|=-|E+A|$ 。原式是 $0$。


------------

> 设 $A,B$ 为三阶矩阵，且 $|A| = 3,|B| = 2$，且 $|A^{-1} + B| = 2$，求 $|B^{-1} + A|$。

考虑对答案进行变形：$=|B^{-1}A^{-1}A+B^{-1}BA|=|B^{-1}||A^{-1}+B||A|=3$。


------------

### 分块矩阵行列式的性质和推广：

![](https://cdn.luogu.com.cn/upload/image_hosting/6i604ij6.png)

感觉可以考虑把结论记住。尤其是最后一个结论，$AB,BA$ 有相同的**非零**特征值！


------------

> 设 $A$ 为 $n$ 阶可逆矩阵，$α$，$β$ 为 $n$ 维列向量，证明：$|A+αβ^T| = |A|(1 + β
^TA^{-1}α)$。

构造分块矩阵（太变态了 /jk）

$$\begin{vmatrix}
 1 & -\beta^T\\
 \alpha & A
\end{vmatrix}$$

$$=|A+αβ^T|=|A|(1 + β
^TA^{-1}α)$$


------------

> 设 $A,B$ 均为 $n$ 阶方阵，证明：

> $$\begin{vmatrix}
 A & B\\
 B & A
\end{vmatrix}=|A+B||A-B|$$

直接消：$\begin{vmatrix}
 A & B\\
 B & A
\end{vmatrix}\rightarrow\begin{vmatrix}
 A+B & A+B\\
 B & A
\end{vmatrix}\rightarrow\begin{vmatrix}
 A+B & O\\
 B & A-B
\end{vmatrix}$

------------

> $A_{ij}=\sin(i+j),n\times n$，求行列式。

发现消不掉！消不掉！往 $0$ 考虑。

发现 $n=1,n=2$ 行列式不为 $0$。而使用三角函数公式，发现这个矩阵其实是 $n\times 2$ 和 $2\times n$ 的矩阵的乘积！所以矩阵的秩不可能超过 $2$。所以 $n\geq 3$ ，行列式就是 $0$。

具体的式子是这样的（直接上图）

![](https://cdn.luogu.com.cn/upload/image_hosting/2jytdy06.png)

------------


### 伴随矩阵的性质：

![](https://cdn.luogu.com.cn/upload/image_hosting/z29scpbh.png)

![](https://cdn.luogu.com.cn/upload/image_hosting/v796ao24.png)


------------


> 设 $A$ 为 $n$ 阶矩阵，$A^2 - A - 2E = O$，$|A| = 2$，求 $|A^* + 3E|$。

先矩阵求逆。

$$A\frac{A-E}2=E,A^{-1}=\frac{A-E}2,A^*=A-E.$$

$$|A^* + 3E|=|A+2E|,A^2=A+2E,\therefore |A^*+2E|=4.$$

这题还可以用特征值做，放在下面讲了。

------------

> 若 $n$ 阶非零实矩阵 $A$ 满足 $A^T=A^*$，证明：

> $1.\ |A| =1$.

首先如果 $|A|\ne 0$，直接有 $|A^T|=|A|=|A||A^T|=1$。但是怎么证明 $|A|\ne 0$?

没有什么好的性质？我们从定义下手。原式的意思其实就是：

$$M_{i,j}=A_{i,j}$$

那么行列式 $|A|=\sum_{i=1}^n a^2_{i,j}$，因为肯定有一列非全 $0$，所以肯定 $>0$。所以得证了。

> $2.\ A$ 为正交矩阵，即 $AA^T = A^TA$.

$$AA^T = AA^*=A^*A=A^TA$$

这其实就是伴随矩阵和原矩阵乘积满足交换律。

> $3.\ n > 2$ 且为奇数时，$|E - A| = 0$.

$|E - A| = |E - A^T| =|AA^* - A^*| = |A - E|=(-1)^n|E-A|$


------------

> 已知 $n$ 阶矩阵 $A$ 的秩为 $1$ ，证明：$A^k = \text{tr}(A)
^{k-1}A$。

书上习题其实证明了 $A^2 = \text{tr}(A)
A$，但是给我忘了。

> **命题**：秩为 $r$ ，那么矩阵可以分解成 $n\times r$ 和 $r\times n$ 矩阵的乘积。

![](https://cdn.luogu.com.cn/upload/image_hosting/4icv20xo.png)

则存在列向量 $\alpha,\beta,\alpha\beta^T=A,\beta^T\alpha=\text{tr}(A),A^k=\alpha\beta^T\alpha...\beta^T\alpha\beta^T=\text{tr}(A)
^{k-1}A$

------------

> 已知 $A$ 是 $n$ 阶方阵，证明：存在 $n$ 阶方阵 $B$ 使得 $A = ABA,B = BAB.$

经典构造相抵标准形。

发现如果矩阵可逆就秒杀了，直接取 $B=A^{-1}$。一般情况呢？

取 $A=P\begin{pmatrix}
 E_r & O\\
 O & O
\end{pmatrix}Q,B=Q^{-1}\begin{pmatrix}
 E_r & O\\
 O & O
\end{pmatrix}P^{-1}$ 即可。

------------


### 关于秩的性质

-  $A,B$ 为 $n\times n$ 矩阵，$r(A\ AB) = r(A)$。

- $A,B$ 分别是 $s × n, n × m$ 矩阵，$(AB)X=0,BX=0$ 同解的充要条件为 $r(AB)=r(B)$。

-  $A$ 为 $m\times n$ 矩阵，$B$ 为 $n\times k$ 矩阵 $r(A)+r(B)-n\le r(AB)\le \min(r(A),r(B))$。

- $A$ 为 $m\times n$ 矩阵，$B$ 为 $n\times k$ 矩阵，$AB=0$，则 $r(A)+r(B)\leq n$。

- $r(A^TA)=r(A)$，**要求 A 是实矩阵**。

$1$ ：$r(A\ AB) \ge r(A),r(A\ AB)=r(A(E\ B))\le r(A)$。

$2$ ：必要性显然，充分性用后者是前者的子集且集合大小相同证明。

$3$ ：![](https://cdn.luogu.com.cn/upload/image_hosting/uyt9nzwm.png)

$4$ ：考虑和线性齐次方程组扯上关系。对 $B$ 的每一列分块，每一个列向量都是 $AX=0$ 的解。那么 $r(B)\leq N(A)=n-r(A)$。

$5$ ：使用 $1$，

$$AX=0\rightarrow A^TAX=0$$

$$A^TAX=0\rightarrow X^TA^TAX=0\rightarrow (AX)^TAX=0$$

$$\rightarrow (AX)\text{的每一个数都是 0}\rightarrow AX=0$$

所以要求是实矩阵！不然复数就错了。

> **命题：** 向量组 $A,B$ 等价当且仅当 $r(A)=r(B)=r(A\ B)$。

结合上面写的很多可以得出新的结论，比如 $A,A^TA$ 行向量等价，还有方程组同解的一些等价。


------------

>  设 $A$ 是 $n\times m$ 的矩阵，$B$ 是 $m\times n$ 的矩阵，$AB=E_n,BA=E_m$，证明 $n=m$。

从秩的角度考虑，$r(AB)=n\le \min(n,m)=m,r(BA)=m\le \min(n,m)=n$。

------------

> 若 $A$、$B$ 为两个 $n$ 阶矩阵且满足 $A + B = AB$，证明：

> $1.\ A - E$ 和 $B - E$ 均可逆；

> $2.\ AB = BA$；

> $3.\ r(A) = r(B)$.

第一个显然 $AB-A-B+E=E=(A-E)(B-E)$。

第二个根据可逆的交换性，$(A-E)(B-E)=(B-E)(A-E)\Rightarrow AB=BA.$

第三个直接不等式放不出来...移项：

$$A=(A-E)B$$

第一问证明了 $A-E$ 是可逆的，**那么一个矩阵乘可逆矩阵，秩不变**。证毕。

------------

先证明这样一个命题：

> **命题**：设 $A$ 是 $n$ 阶方阵，则存在正整数 $k$ 使得 $r(A^k
) = r(A^{k+1}) = r(A^{k+2}) = ...$，且
对任意正整数 $m$，有 $r(A^{n})=r(A^{n+m})$.

这个命题需要再证明：

> **命题**：设 $A$ 是 $n$ 阶方阵，若 $r(A^k
) = r(A^{k+1})$，则 $r(A^k
) = r(A^{k+1}) = r(A^{k+2}) = ...$

这个证明使用方程同解的充要条件：

$A^kX=0,A^{k+1}X=0$，两者同解。

$A^{k+1}X=A^{k}(AX),A^{k+2}X=A^{k+1}(AX)$，两者也是同解，因为 $A^kX=0,A^{k+1}X=0$ 同解。所以 $r(A^{k+1}) = r(A^{k+2})$。归纳一下就证毕了。

回到原命题，若 $A$ 可逆显然成立。否则，考虑 $r(A),r(A^2),...,r(A^n)$，有 $n-1\ge r(A)\ge r(A^2)\ge...r(A^n)\ge r(A^{n+1})\ge0$。根据抽屉原理，必有一对相邻的相同。所以再用刚证的命题就得证了。

我们于是可以对幂零矩阵的性质进行进一步展开：


------------

### 幂零矩阵的性质：


> $1. $ $n$ 阶幂零矩阵 $A$ 必有 $A^n=O$。

这个用上面那个直接出来了。

> $2. $ $A ± E$ 均为可逆矩阵。

找一个奇数 $k$，使用 $k$ 次方的和差公式！

> $3. $ 幂零矩阵的特征值只有一个 $0$。

直接有定义式：$A^nX=\lambda^nX=O,\lambda=0$。

> $4. $ $A$ 为幂零矩阵 $\Leftrightarrow ∀k ∈ N^+,\text{tr}(A^k)=0.$

下学期才能证明，先不展开了。

------------

### 两个经典题：

>  若 $A$ 是 $n$ 阶幂等矩阵（$A^2=A$），证明： $r(A)+r(E-A)=n$.

首先 $n=r(E)\leq r(A)+r(E-A)$，然后用上面的 $2$，$A(E-A)=0$，那么 $n\geq r(A)+r(E-A)$。得证。

>  若 $A$ 是 $n$ 阶矩阵满足 $A^2=E$，证明： $r(A+E)+r(A-E)=n$.

首先 $n=r(2E)\leq r(A+E)+r(E-A)= r(A+E)+r(A-E)$，然后用上面的 $2$，$(A-E)(A+E)=0$，那么 $n\geq r(A+E)+r(A-E)$。得证。


------------

> 已知 A 是一个 $s × n$ 矩阵，证明：$r(E_n - A^TA) - r(E_s - AA^T) = n -s$。

构造分块矩阵（小心别消错）。

$$\begin{pmatrix}
E_s  & A\\
A^T  & E_n
\end{pmatrix}\Leftrightarrow \begin{pmatrix}
E_s  & O\\
O  & E_n-A^TA
\end{pmatrix}\Leftrightarrow \begin{pmatrix}
E_s-AA^T  & O\\
O  & E_n
\end{pmatrix}$$

用分块矩阵秩的结论即可（上下三角分块矩阵的秩）。


------------

> $n$ 阶方阵 $A，B$ 满足 $AB = BA$，证明：$r(AB) + r(A + B) ≤ r(A) + r(B).$

这看着很维数公式，我们考虑从**解空间**下手。

设 $AX=O$ 的解空间为 $W_1$。

设 $BX=O$ 的解空间为 $W_2$。

设 $(A+B)X=O$ 的解空间为 $W_3$。

设 $ABX=O$ 的解空间为 $W_4$。

显然 $(W_1\cap W_2 )\subset W_3$。因为 $AB=BA$，$(W_1\cup W_2 )\subset W_4$。

$$\dim(W_1\cap W_2 )\le \dim W_3$$

$$\dim(W_1\cup W_2 )\le \dim W_4$$

$$\therefore \dim W_1+\dim W_2\le \dim W_3+\dim W_4$$

$$n-r(A)+n-r(B)\le n-r(A+B)+n-r(AB)$$

$$r(AB) + r(A + B) ≤ r(A) + r(B).$$


------------

> **命题**：非齐次线性方程组 $AX=b$ 的一般解中最多选出 $n-r(A)+1$ 个线性无关向量。

不能说是维数，因为不是一个线性空间。构造方法：

$$\gamma,\gamma+X_1,\gamma+X_2,...,\gamma+X_{n-r(A)}$$

其中 $\gamma$ 是特解，$X_1,X_2$ 等表示 $AX=O$ 的基础解系的元素。

如果再多显然不行。证明过程不写了。


------------

> 设 $A_1,\ A_2,\ \dots,\ A_{n+1}$ 是任意 $n+1$ 个 $n$ 阶矩阵，证明必存在不全为 $0$ 的实数 $\lambda_1,\ \lambda_2,\ \dots,\ \lambda_{n+1}$，使得矩阵 $\lambda_1A_1+\lambda_2A_2+\dots+\lambda_{n+1}A_{n+1}$ 不可逆。

我的证法：考虑构造一个列全为 $0$ 的矩阵，发现就是 $n$ 元，$n+1$ 个方程，肯定有非 $0$ 解。

当然直接从矩阵方程组（即矩阵的秩）方面考虑也可以。考虑一个非零列向量 $X$，然后对于方程组 $(\lambda_1A_1+\lambda_2A_2+\dots+\lambda_{n+1}A_{n+1})X=O$，因为$ A_1X,A_2X,\dots,A_{n+1}X$ 肯定线性相关（$n+1$ 个向量），所以可以取一个 $=0$。那么这个矩阵的秩肯定 $<n$。

------------


> **命题**：若 $|A|=0$，那么 $A^*$ 的每一个列向量都是方程 $AX=O$ 的解。

$AA^*=O$ 你把矩阵分块一下就证完了。

这个结论好用，也提示我们一些构造线性方程解的时候可以**对乘积为 $0$ 的两个矩阵的其中之一分块**。这个证明技巧非常好用。


------------

> 设 $A = (a_{ij} )_{m×n}$，$b$ 和 $X$ 为 $m$ 元列向量，$Y$ 为 $n$ 元列向量，证明：

> $1.\ $ 若 $AY = b$ 有解，则 $A^TX = 0$ 的任一组解都满足 $b^TX = 0$。

> $2.\ $ 方程组 $AY = b$ 有解的充要条件是方程组 

> $$\begin{pmatrix}
A^T \\ b^T
\end{pmatrix}X=\begin{pmatrix}
0 \\ 1
\end{pmatrix}$$

> 无解（其中 $0$ 是 $n$ 元零向量）。

第一问很简单，$b^TX = Y^TA^TX = Y^T(A^TX) = 0$。

第二问的必要性就是第一问加反证法。

充分性：还挺有趣的，首先有 $A^T$ 的所有行向量和 $b^T$ 线性相关。否则若线性无关则系数矩阵行满秩，增广后仍然满秩，则和无解矛盾。但是这个条件没啥用！因为我们还要证明 $b^T$ 可以被 $A^T$ 行向量线性表出。

换思路。因为无解，所以

$$r\begin{pmatrix}
A^T\\ b^T
\end{pmatrix}+1\le r\begin{pmatrix}
A^T & 0\\ b^T &1
\end{pmatrix}$$

而根据矩阵加一列的秩结论：

$$r\begin{pmatrix}
A^T\\ b^T
\end{pmatrix}+1\ge r\begin{pmatrix}
A^T & 0\\ b^T &1
\end{pmatrix}$$

所以

$$r\begin{pmatrix}
A^T\\ b^T
\end{pmatrix}+1= r\begin{pmatrix}
A^T & 0\\ b^T &1
\end{pmatrix}$$

观察右边的分块矩阵，显然有

$$r\begin{pmatrix}
A^T & 0\\ b^T &1
\end{pmatrix}=r\begin{pmatrix}
A^T & 0
\end{pmatrix}+1=r(A)+1$$

联立一下就有

$$r\begin{pmatrix}
A^T\\ b^T
\end{pmatrix}=r\begin{pmatrix}
A&b
\end{pmatrix}=r(A)$$

得证。

------------

> 设 $A$ 是 $n$ 阶矩阵，且 $A_{11}\ne 0$（这里指代数余子式），证明：方程组 $AX = b$（$b$ 为非零向量）有无穷多解的充要条件为 $A^*
b=0$.

必要性：首先无穷组解说明 $r(A)<n$，然后 $A_{11}\ne 0$，所以 $r(A)=n-1$。

$$A^*b=A^*AX=(|A|E)X=0$$

充分性：其实就是要证明两个东西：

- $|A|=0$。

- $AX=b$ 有解。**（不要忘了！）**

因为 $A^*X=0$ 有非零解 $b$，所以 $r(A)<n$，然后 $A_{11}\ne 0$，所以 $r(A)=n-1$。第一个证好了。

第二个就难了。其实我们只需要**证明 $b$ 可以被 $A$ 的列向量线性表出**就好了。

因为 $A_{1,1}\ne 0$，所以列向量 $\alpha_2,\alpha_3,...,\alpha_n$ 线性无关。

$A^*A=O$，$r(A^*)=1$，分块后你会发现 $\alpha_2,\alpha_3,...,\alpha_n$ 正好就是 $A^*X=0$ 的基础解系。那么 $b$ 可以被 $\alpha_2,\alpha_3,...,\alpha_n$ 线性表出。第二个证好了。


------------

> 设整系数的线性方程组为 $AX=b$，$A$ 为 $n$ 阶方阵，证明该方程组对任意整数 $b_1,b_2,...,b_m$ 都有整数解的充分必要条件是 $|A|=±1$。

> **命题**：整系数矩阵行列式一定是整数。

证明直接用行列式展开式。显然。

那么充分性用 Cramer 法则直接出来了。

必要性使用特殊值法，构造分块矩阵 $AX=A(x_1,x_2,...,x_n)=(e_1,e_2,...,e_n)=E$。

则 $|A||X|=1$，$|A|,|X|$ 根据命题都是整数，那么 $|A|=\pm1$。


------------

> 若 $n$ 阶矩阵各行、各列元素之和都为 $0$，证明：$A$ 的所有元素的代数余子式都相等。

如果想到构造方程就简单了。~~（我是在这个专题刷到的，所以会了）~~

- 若 $r(A)<n-1$，伴随矩阵是零矩阵，显然成立。

- 若 $r(A)=n$，$AX=0$ 只有零解，而显然 $(1,1,...,1)^T$ 是一组解，矛盾。所以该情况不存在。

- 若 $r(A)=n-1$，那么方程的基础解系就是 $(1,1,...,1)^T$，那么根据分块矩阵和 $AA^*=O$，$A^*$ 的一列上元素都相等。因为每行的和也是 $0$，同理 $A^T(A^*)^T=O$，$(A^*)^T$ 的一列上元素都相等，也就是 $A^*$ 的一行上元素都相等。证毕。


------------

> 设 $V$ 是一个 $n$ 维实线性空间，试证明：存在 $V$ 中的一个由可列无穷多个向量组成的向量组 $\{\alpha_i|i\in \mathrm Z^+\}$，使得任取 $n$ 个互不相等的向量都是 $V$ 的一组基。

这么构造：

$$α_i=(1,i,i^2,i^3,...,i^{n-1})$$

根据范德蒙行列式就证毕了，所以我是咋想到的。

------------

> 设 $A$, $B$, $C$ 为 $n$ 阶实方阵，且 $BAA^T = CAA^T$，证明：$BA = CA$.

无从下手。回忆一个命题：

> **命题**：对于实方阵 $A$，零矩阵 $O$，$AX=O,A^TAX=O$ 同解。

这个不仅限于列向量。

$$AX=O\rightarrow A^TAX=O$$

$$A^TAX=O\rightarrow X^TA^TAX=O\rightarrow (AX)^TAX=O$$

所以还有：

> **命题**：对于实方阵 $A$，零矩阵 $O$，$XA=O,XAA^T=O$ 同解。

直接有 $(C-B)AA^T=O,(C-B)A=O$。证完了。


------------
 
### 相似矩阵的性质

> $1.$ $A ∼ B$ 可以得到 $A^T ∼ B^T,A^m ∼ B^m,cA ∼ cB$，更一般地，对于任意多项式 $f(x)$ 都有
$f(A) ∼ f(B)$，且若 $B = P^{-1}AP$，有 $f(B) = P
^{-1}f(A)P$。除此之外还有 $A^* ∼ B^*$，若 $A, B$
可逆，有 $A^{-1} ∼ B^{-1}$。

这个可以优化可对角化的矩阵的幂次计算。

> $2.$ 相似矩阵有相同的特征多项式（**逆命题不成立**，比如其中一个不可对角化（$A=\begin{pmatrix}
 2 & 0\\
 0 & 2
\end{pmatrix},B=\begin{pmatrix}
 2 & 1\\
 0 & 2
\end{pmatrix}$）。**如果两个矩阵都可对角化则成立**），即 $A ∼ B$ 有 $|λE - A| = |λE - B|$，
从而有相同的迹，行列式，特征值，但特征向量不一定相同。


------------

> 设 $A, B ∈ M_n(F)$，证明：若 $A$ 可逆，则 $AB ∼ BA$.

直接令 $P=A...$


------------

### 特征值基本性质：

> 设 $λ$ 是线性空间 $V (F)$ 上的线性变换 $σ$ 的特征值，$ξ$ 是 $σ$ 属于 $λ$ 的特征向量，则

> $1.$ 若 $f(x) = a_nx^n + a_{n-1}x^{n-1} + ... + a_1x + a_0$ 是 $F$ 上的多项式，则 $f(σ)(ξ) = f(λ)ξ$，也就是说，$f(λ)$ 是 $f(σ)$ 的特征值，且特征向量不变。

> $2.$ 设 $λ$ 是 $n$ 阶矩阵 $A$ 的特征值，$A$ 可逆，则 $λ^{-1}$
 是 $A^{-1}$ 的特征值，$|A|λ^{-1}$ 是 $A$ 的
伴随矩阵 $A^*$ 的特征值，且特征向量不变。

> $3.$ $n$ 维线性空间 $V (F)$ 的线性变换 $σ$ 的每个特征值 $λ_i$ 的重数（代数重数）大于等于
其特征子空间 $V_{λ_i}$ 的维数（几何重数）。

> $4.$ 设 $A, B$ 均为 $n$ 阶矩阵，若 $λ$ 是 $AB$ 的特征值，则 $λ$ 也是 $BA$ 的特征值；

> $5.$ 设 $ A, B ∈ M_n(F)$，$AB = BA$，若 $X$ 是矩阵 $A$ 属于特征值 $λ_0$ 的特征向量，则
$BX$ 属于 矩阵$A$ 的 $V_{λ_0}$（这么写因为可能是 $0$ 向量）。**（这个性质是很多 $AB=BA$ 题的解题关键。）**

题干里可能条件给的有点隐晦，比如矩阵各行的和都为 $4$，就有特征值 $4$，特征向量 $(1,1,...,1)^T$。


------------

> 设 $A, B ∈ M_n(F)$，$A$ 有 $n$ 个不同的特征值，证明：$AB = BA$ 的充要条件是 $A$ 的特征向量也是 $B$ 的特征向量。

必要性：对于 $\lambda X=AX$，由性质 $5$，$\lambda BX=ABX,BX$ $\in V_{λ_0}$。$A$ 有 $n$ 个不同的特征值，所以每个特征空间维数都是 $1$，$BX$ 一定是 $X$ 的某个实数倍。因此 $X$ 是 $B$ 的特征向量，证毕。 

充分性：反过来写，不妨设 $AX=\lambda X,BX=\mu X,ABX=\mu AX=\mu\lambda X=\lambda BX$。
所以 $BX\in V_{λ_0}$。但是我们还是用不上特征值不同的条件，做不出来。

**使用对角化，因为对角矩阵乘法是可交换的**。显然 $A$ 可以对角化，设 $P^{-1}AP=C$，$C=\mathrm {diag}(\lambda_1,\lambda_2,...,\lambda_n)$，那对列向量分块，显然也有 $P^{-1}BP=D=\mathrm {diag}(\mu_1,\mu_2,...,\mu_n)$。其实就做完了。

$$P^{-1}ABP=CD=DC=P^{-1}BAP,|P|\ne 0,AB=BA.$$

右推左其实是这样的命题：

> **命题：** 若 $A$ 可对角化，$A,B$ 具有 $n$ 个公共的线性无关的特征向量，则 $AB=BA$。

------------

> 设 $A$ 为 $n$ 阶矩阵，$A^2 - A - 2E = O$，$|A| = 2$，求 $|A^* + 3E|$。

$A$ 的特征值是好求的。然后多项式一下就好。

$A^2 - A - 2E = O\Rightarrow (A^2 - A - 2E)X=(\lambda^2 - \lambda - 2)X=O,\lambda=-1\text{ or } 2$

所以我们可以得出 $n$ 是偶数，然后 $1$ 重 $\lambda=2$，$n-1$ 重 $\lambda=-1$。$A^*$ 的特征值是  $1$ 重 $\lambda=1$，$n-1$ 重 $\lambda=-2$。最后答案就是 $4$。


------------

> 设 $n$ 阶方阵 $A$ 满足 $A^2-5A+5E=0$，证明：则对所有的有理数 $r$，$A+rE$ 都是可逆阵。

这题有点抽象。虽然看起来是错的，但是实际上是对的。这个有理数的条件就很抽象，配凑？不。考虑特征值。**$A+\lambda E$ 的形式不要忘了特征值！**

首先根据特征值的定义：

$$(\lambda^2-5\lambda+5)X=0,\lambda^2-5\lambda+5=0$$

所以 $|A+rE|$ 如果是 $0$ 就是无理数。得证。

------------

> 设 $A$ 为三阶矩阵，$α_1, α_2, α_3$ 线性无关，且 $Aα_1 = α_1$, $Aα_2 = α_1 + α_2 - 2α_3$, $Aα_3 =α_1 - 2α_2 + α_3$，求 $A$ 的特征值.

我的思路是手玩。显然第一个式子得到 $\lambda=1$，第二个式子减第三个得到 $A(α_2-α_3)=3(α_2-α_3),\lambda=3$，然后二加三减一得到 $A(α_2+α_3 - α_1)=-(α_2+α_3 - α_1),\lambda=-1$。

这么做太不科学了。正经做法是用相似：

$$A(α_1, α_2, α_3)=(α_1,α_1 + α_2 - 2α_3,α_1 - 2α_2 + α_3)$$

$$=(α_1, α_2, α_3)\begin{pmatrix}
 1 & 1 & 1\\
 0 & 1 & -2\\
 0  & -2 & 1
\end{pmatrix}$$

$A$ 相似于后者，把后者的特征值解出来即可。

------------

> 设 $V (F)$ 是 $n$ 维线性空间，$σ ∈ L(V, V )$，证明：

> $1.$ 若 $α, β$ 是 $σ$ 的属于不同特征值的特征向量，则 $c_1c_2\ne 0$ 时，$c_1α + c_2β$ 不是 $σ$ 的
特征向量；

> $2.$ $V$ 中的每一非零向量都是 $σ$ 的特征向量 $\Leftrightarrow σ = c_0I_V$ ，其中 $c_0 ∈ F$ 是一个常数，$I_V$ 是恒等变换。

第一问非常关键。证出来以后第二问直接使用结论，就可以得到特征值只有一个了。那么直接结束。

第一问怎么证明？反证法。不妨设新得到的特征向量特征值为 $w$。然后移项得到 $c_1(\lambda-w)\alpha+c_2(\mu-w)\beta=0$，因为 $α, β$ 线性无关所以 $\lambda=w=\mu$。矛盾！


------------

> 设 $A$ 是数域 $\mathbf{F}$ 上一个 $n$ 阶方阵，$E$ 是 $n$ 阶单位矩阵，$\alpha_1 \in \mathbf{F}^n$ 是 $A$ 的属于特征值 $\lambda$ 的一个特征向量，向量组 $\alpha_1,\ \alpha_2,\ \dots,\ \alpha_s$ 按如下方式产生：$(A-\lambda E)\alpha_{i+1}=\alpha_i(i=1,\ 2,\ \dots,\ s-1)$。

> 证明：向量组 $\{\alpha_1,\ \alpha_2,\ \dots,\ \alpha_s\}$ 线性无关。

我们猜一波解法：把系数设出来，证明全是 $0$，设

$$\mu_1\alpha_1+\sum_{i=2}^{s}\mu_i\alpha_i=0$$

同时左乘 $A-\lambda E$：

$$\mu_1(A-\lambda E)\alpha_1+\sum_{i=1}^{s-1}\mu_{i+1}\alpha_i=\sum_{i=1}^{s-1}\mu_{i+1}\alpha_i=0$$

化简得到：

$$=\mu_2\alpha_1+\sum_{i=2}^{s-1}\mu_{i+1}\alpha_i=0$$

同时左乘 $A-\lambda E$，重复，最后可以得到：

$$\mu_s=0$$

这里运用了 $\alpha_1$ 显然非 $0$ 的性质。

继续反推，得到全部都是 $0$ 。

其实这个很像那个线性映射习题课的经典题目。

------------

> 已知 $A$ 是实反对称矩阵，证明：

> $1.\ A$ 的特征值必为 $0$ 或纯虚数；

> $2.\ E-A^2$ 是可逆矩阵.

第一问就是用实对称矩阵特征值为实数的证明技巧：只需要证明 $\lambda=-\bar \lambda$。

对于非 $0$ 列向量 $X$ ：

$$\lambda \overline{X^T}X=\overline{X^T}\lambda X= \overline{X^T}A X=-\overline{X^T}A^T X$$

$$=-\overline{X^T}\overline{A^T} X=-{(\overline {AX})^T} X=-{(\overline {\lambda X})^T} X=-\overline\lambda\overline{X^T}X$$

$\overline{X^T}X$ 是复数模长平方和，肯定 $>0$，证毕。

第二问：因为 $\lambda\ne\pm 1,|E-A^2|=|E-A||E+A|\ne0$。得证。

**实数这个条件真的很有用呐！**

------------

> 设 $B$ 是 $n$ 阶实对称矩阵，每行元素之和都为 $b$，若 $b$ 是 $f(λ) = |λE - B|$ 的单根，求 $B$ 属于 $b$ 的特征向量；当 $f(λ) = (λ - b)g(λ)$ 时，$f(B)=O$，证明：$g(B) = kA$，其中 $k$ 为常数，$A$ 为元素全部为 $1$ 的 $n$ 阶矩阵.

nb 题。第一问简单，显然特征值是 $b$，特征向量是 $(1,1,...,1)^T$。第二问就很厉害。

$f(B)=(B - b)g(B)=O,bg(B)=Bg(B)$。那么对矩阵分块，$g(B)$ 的每个列向量都是 $B$ 矩阵关于特征值 $b$ 的特征向量。而因为是 $b$ 是单根，所以该特征子空间维数是 $1$，所以 $B$ 中列向量一定都成比例。根据第一问，一定都是 $k(1,1,...,1)^T$ 的形式。因为 $B$ 是实对称矩阵，所以一定所有元素都相等。证毕。


------------

> 设 $A$ 相似于对角矩阵，$λ_0$ 是 $A$ 的特征值，$X_0$ 是 $A$ 对应于 $λ_0$ 的特征向量，证明：

> $1.$ $r((A - λ_0E)^2)=r(A - λ_0E)$。

事实上：

> **命题**：如果 $A$ 可对角化，$r(A)=r(A^2)$。

证明利用相似矩阵幂相等即可。那么根据相似的性质，我们发现 $A-λ_0E$ 显然也是可以对角化的。

> $2.$ 不存在 $Y$ 使得 $(A - λ_0E)Y = X_0$。

nb 题。用秩不好做，考虑变形：

$$(A-\lambda_0 E)X_0=(A-\lambda_0 E)^2Y=0$$

根据第一问的结论，$r((A - λ_0E)^2)=r(A - λ_0E)$，所以由秩的性质第二条，方程同解，等价于 $(A-\lambda_0 E)Y=0=X_0$。而 $X_0$ 不是零，矛盾！

------------

### 幂等矩阵的性质：

> 若 $n$ 阶方阵 $A$ 满足 $A^2 = A$：

> $1.$ $r(A)+r(E-A)=n$。

之前证过了。

> $2.$ $A$ 特征值**不会不等于** $0,1$ ，一定可对角化，其中 $1$ 的重数等于 $r(A)$。

特征值是 $0$ 和 $1$ 好证。关键是后者。

书本的证明：回归矩阵的本质，这是一个幂等线性映射 $\sigma,\sigma^2=\sigma$，那么可以很简单的证明 $\mathrm{Im}\sigma\oplus\mathrm{Ker}\sigma=V$（习题课那篇博文有写这个结论的推广）。在值域空间里的都是关于特征值 $1$ 的特征向量，在核空间里的全是 $0$ 的，这样就全部证完了，$1$ 的重数就是 $\dim(\mathrm{Im}\sigma)= r(A)$。

事实上可以直接用矩阵的秩来证明。$AX=0$ 的解空间维数是 $n-r(A)$，$(A-E)X=0$ 解空间维数就是 $n-r(A-E)$，那么根据性质 $1$ 就得证了。

这个性质可以推广到 $A^2=kA$ ，证明也是一样的。

> **命题** ：若 $\exists k\ne 0,A^2=kA$，则 $A$ 特征值**不会不等于** $0,k$ ，一定可对角化，其中 $k$ 的重数等于 $r(A)$。

> $3.$ $A$ 是幂等矩阵时，$r(A) = \text{tr}(A)$。

特征值之和，直接结束。

> $4.$ 所有秩为 $1$ 迹也为 $1$ 的矩阵均为幂等矩阵。

这个和特征值没啥关系，直接用相抵标准形做。


------------

> 设 $A$，$B$ 为两个 $n$ 阶幂等矩阵，证明：

> $1.$ $A + B$ 为幂等矩阵当且仅当 $AB = BA = O$；

右推做随便推，然后是左推右。发现是[线性映射原题](https://www.luogu.com.cn/blog/sanaQWQ/xian-xing-dai-shuo-xi-ti-ke-112-post)。

更简单的做法：显然 $AB+BA=O$，$AB=ABB=-BAB=BBA=BA$。这也太快了。

> $2.$ $A - B$ 为幂等矩阵当且仅当 $AB = BA = B$；

右推做随便推，然后是左推右。同样的套路：

$$A^2-AB-BA+B^2=A-B,AB+BA=2B.$$

$$AB=AAB=A(2B-BA)=2AB-ABA=2AB-(2B-BA)A$$

$$=2AB-2BA+BA=2AB-BA,\therefore AB=BA$$

> $3.$ 若 $AB = BA$，则 $AB$ 为幂等矩阵，反之，若 $AB$ 为幂等矩阵，是否必有 $AB = BA$？

证明很简单。$ABAB=AABB=AB$。反之怎么做？

用第四个性质快速构造简单的幂等矩阵：

$$A=\begin{pmatrix}
 1 & 1\\
 0 & 0
\end{pmatrix},B=\begin{pmatrix}
 1 & 2\\
 0 & 0
\end{pmatrix},AB=B,BA=A.$$

直接得到了反例。

> $4.$ 若 $E - A - B$ 可逆，则 $r(A) = r(B)$.

考虑秩不等式！

$$n=r(E-A-B)=r((E-A)(E+A)-B)\le r(B)+r(E-A)=n+r(B)-r(A)$$

所以 $r(A)\le r(B)$，同理 $r(A)\ge r(B)$。我也不知道自己怎么凑出来的...

标答的做法更是重量级：

$$r(A)=r(A(E-A-B))=r(AB)\le r(B)$$

但是感觉很直观，就是求逆的条件怎么用呢？乘上去，秩不变！
